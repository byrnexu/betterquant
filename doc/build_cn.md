# ç¼–è¯‘
* ğŸ”¥ ç›®å‰åœ¨Ubuntu 20.04ä¸Šç¼–è¯‘é€šè¿‡ï¼Œç³»ç»Ÿæœ¬èº«æ˜¯è·¨å¹³å°çš„ï¼Œåªæ˜¯åœ¨Ubuntu 20.04 LTSå®Œå–„äº†åˆå§‹åŒ–è„šæœ¬ï¼Œæˆ‘æ˜¯åœ¨ root ç”¨æˆ·ä¸‹æµ‹è¯•çš„ï¼Œè¯·åˆ‡æ¢åˆ° root ç”¨æˆ·ã€‚

&emsp;&emsp;é˜¿é‡Œäº‘çš„ ubuntu 20.04 64 ä½å’Œ vmware ä¸‹çš„ ubuntu-20.04.5-desktop-amd64 å‡å¯æ­£å¸¸ç¼–è¯‘ï¼Œvmware ä¸‹çš„ ubuntu-20.04.5-desktop-amd64 ä¸‹è½½åœ°å€: https://releases.ubuntu.com/20.04.5/ubuntu-20.04.5-desktop-amd64.iso ã€‚æœ¬åœ°çš„è™šæ‹Ÿæœºç¯å¢ƒè¿˜è¦è£… vpn ä»€ä¹ˆçš„ï¼Œæ¯”è¾ƒéº»çƒ¦ï¼Œæ‰€ä»¥è¿˜æ˜¯å»ºè®®åœ¨äº‘ç«¯ç¼–è¯‘éƒ¨ç½²ã€‚
&emsp;

* ğŸ”¥ Clone ä»£ç åˆ°æœ¬åœ°
```bash
   git clone git@github.com:byrnexu/betterquant.git
   
   # å¦‚æœä½¿ç”¨å‘å¸ƒçš„ç‰ˆæœ¬é‚£ä¹ˆä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ‡æ¢ï¼Œmasteråˆ†æ”¯ä¸Šçš„åŠŸèƒ½å’Œç‰¹æ€§è¿˜ä¸é‚£ä¹ˆç¨³å®šã€‚
   git reset --hard $(git tag --list | tail -n1) 
```
&emsp;

* ğŸ”¥ é¦–æ¬¡ç¼–è¯‘è¯·å…ˆåˆå§‹åŒ–ç³»ç»Ÿå®‰è£…å¿…è¦çš„ä¾èµ–ï¼ŒC++é‡‡ç”¨çš„æ˜¯17æ ‡å‡†ã€‚
```bash
   cd betterquant && bash init-sys.sh
```
&emsp;

* ğŸ”¥ ç¼–è¯‘  

&emsp;&emsp;ç”±äºå¼€å¯äº†å¹¶è¡Œç¼–è¯‘ï¼Œå› æ­¤å¯èƒ½ç¼–è¯‘è¿‡ç¨‹ç³»ç»Ÿå†…å­˜ä¸è¶³å¯¼è‡´ä¸­æ–­ï¼Œè¯·å°†setting.shä¸­DEFAULT_PARALLEL_COMPILE_THREAD_NUM=8ä»8ä¿®æ”¹ä¸ºæ›´å°çš„æ•°å€¼ğŸƒã€‚
```bash
   bash build-all.sh
```
&emsp;&emsp;ç³»ç»Ÿä¼šè‡ªåŠ¨ä¸‹è½½å¹¶ç¼–è¯‘ç¬¬ä¸‰æ–¹åº“ã€‚æœ‰æ—¶å€™åœ¨ vmware è™šæ‹Ÿæœºç¯å¢ƒç¼–è¯‘çš„æ—¶å€™ä¼šé‡åˆ° github ä¸Šä¸€äº›ç¬¬ä¸‰æ–¹åº“ä¸‹è½½è¶…æ—¶çš„æƒ…å†µï¼Œctrl + c åé‡æ–° build-all.shå³å¯ã€‚<br/>
&emsp;

* ğŸ”¥ ç”Ÿæˆç­–ç•¥éœ€è¦çš„å‹ç¼©åŒ…

&emsp;&emsp;è¿è¡Œè„šæœ¬
```bash
   bash deploy_stgeng.sh
```
&emsp;
* ğŸ”¥ ä¸Šä¸€æ­¥éª¤ç”Ÿæˆçš„å‹ç¼©åŒ…å«ä»¥ä¸‹ç›®å½•å’Œæ–‡ä»¶ï¼š  

| ç›®å½•/æ–‡ä»¶ | è¯´æ˜ | å¤‡æ³¨ |
| ------ | ------ | ------ |
| inc/cxx | ç¼–å†™cxxç­–ç•¥éœ€è¦çš„å¤´æ–‡ä»¶ |  |
| lib/libbqstgeng-cxx.a | ç¼–å†™cxxç­–ç•¥éœ€è¦çš„åº“æ–‡ä»¶ |  |
| bin/bqstgeng.so | ç¼–å†™pythonç­–ç•¥éœ€è¦çš„åº“æ–‡ä»¶ |  |
| bin/stgeng.py | pythonç­–ç•¥ä»£ç æ ·ä¾‹ |  |

lib/libbqstgeng-cxx.a åº“æ–‡ä»¶éå¸¸å¤§ï¼Œå› ä¸ºåŒ…å«å¾ˆå¤šç¬¦å·ï¼Œå¦‚æœè§‰å¾—å¤ªå¤§å¯ä»¥ç”¨ strip libbqstgeng-cxx.a å°†ç¬¦å·åˆ é™¤ï¼Œå½“ç„¶æ²¡æœ‰ç¬¦å·çš„è¯ç­–ç•¥ crash ä¼šå¯¼è‡´é—®é¢˜éš¾ä»¥å®šä½ï¼Œå»ºè®®ä¿ç•™ç¬¦å·ã€‚  
